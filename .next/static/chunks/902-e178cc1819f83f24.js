(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[902],{8957:function(e,t,a){"use strict";a.d(t,{Z:function(){return s}});/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let s=(0,a(2898).Z)("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]])},9313:function(e,t,a){"use strict";a.d(t,{z:function(){return l}});var s=a(7437),r=a(1657);let l=(0,a(2265).forwardRef)((e,t)=>{let{children:a,className:l,variant:n="primary",size:d="md",...o}=e;return(0,s.jsx)("button",{ref:t,className:(0,r.cn)("inline-flex items-center justify-center font-medium rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed",{primary:"bg-blue-600 text-white hover:bg-blue-700 focus:ring-blue-500 dark:bg-blue-600 dark:text-white dark:hover:bg-blue-700",secondary:"bg-slate-200 text-slate-900 hover:bg-slate-300 focus:ring-slate-500 dark:bg-slate-700 dark:text-slate-100 dark:hover:bg-slate-600",outline:"border border-slate-300 text-slate-700 hover:bg-slate-50 focus:ring-slate-500 dark:border-slate-600 dark:text-slate-200 dark:hover:bg-slate-800 dark:bg-transparent"}[n],{sm:"px-3 py-1.5 text-sm",md:"px-4 py-2 text-sm",lg:"px-6 py-3 text-base"}[d],l),...o,children:a})});l.displayName="Button"},1543:function(e,t,a){"use strict";a.d(t,{Z:function(){return l}});var s=a(7437),r=a(1657);function l(e){let{children:t,className:a}=e;return(0,s.jsx)("div",{className:(0,r.cn)("bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700","text-slate-800 dark:text-slate-100 shadow-sm hover:shadow-md transition-shadow duration-200","rounded-2xl",a),children:t})}},4203:function(e,t,a){"use strict";a.d(t,{I:function(){return l}});var s=a(7437),r=a(1657);let l=(0,a(2265).forwardRef)((e,t)=>{let{className:a,...l}=e;return(0,s.jsx)("input",{ref:t,className:(0,r.cn)("flex h-10 w-full rounded-lg border border-slate-300 bg-white px-3 py-2 text-sm","placeholder:text-slate-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent","disabled:cursor-not-allowed disabled:opacity-50","dark:border-slate-600 dark:bg-slate-800 dark:text-slate-100 dark:placeholder:text-slate-400",a),...l})});l.displayName="Input"},6690:function(e,t,a){"use strict";a.d(t,{Z:function(){return l}});var s=a(7437),r=a(7972);function l(e){let{answeredPlayers:t}=e;return(0,s.jsx)("div",{className:"flex flex-wrap justify-center gap-2",children:t.map(e=>(0,s.jsxs)("div",{className:"flex items-center gap-1 px-3 py-1 bg-slate-200 dark:bg-slate-700 rounded-full text-sm text-slate-800 dark:text-slate-100",children:[(0,s.jsx)(r.Z,{className:"h-4 w-4"}),(0,s.jsxs)("span",{children:[e," a r\xe9pondu ✅"]})]},e))})}},1215:function(e,t,a){"use strict";a.d(t,{Z:function(){return o}});var s=a(7437),r=a(2265),l=a(4518);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let n=(0,a(2898).Z)("Smile",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 14s1.5 2 4 2 4-2 4-2",key:"1y1vjs"}],["line",{x1:"9",x2:"9.01",y1:"9",y2:"9",key:"yxxnd0"}],["line",{x1:"15",x2:"15.01",y1:"9",y2:"9",key:"1p4y9e"}]]),d=["\uD83D\uDC4D","❤️","\uD83D\uDE02","\uD83D\uDE2E","\uD83D\uDE22","\uD83D\uDD25","\uD83D\uDC4F","\uD83C\uDF89","\uD83E\uDD14","\uD83D\uDE0E","\uD83D\uDE4C","\uD83D\uDCAF","⭐","\uD83D\uDE80","\uD83D\uDE31","\uD83E\uDD23"];function o(e){let{roomCode:t,gameType:a,className:o=""}=e,[c,i]=(0,r.useState)(!1),{broadcast:u,messages:x}=(0,l.r)(t,a),m=sessionStorage.getItem("playerName")||"Anonyme",b=(0,r.useMemo)(()=>x.filter(e=>"reaction"===e.type).slice(-8).map(e=>{var t,a;return{player:null===(t=e.data)||void 0===t?void 0:t.player,emoji:null===(a=e.data)||void 0===a?void 0:a.emoji}}),[x]),h=e=>{u({type:"reaction",data:{player:m,emoji:e}}),i(!1)};return(0,s.jsxs)("div",{className:"relative ".concat(o),children:[b.length>0&&(0,s.jsx)("div",{className:"flex flex-wrap gap-1 mb-2 justify-center",children:b.map((e,t)=>(0,s.jsxs)("span",{className:"text-xs bg-slate-200 dark:bg-slate-700 px-2 py-0.5 rounded-full text-slate-800 dark:text-slate-100",children:[e.emoji," ",e.player]},t))}),(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsxs)("button",{type:"button",onClick:()=>i(e=>!e),className:"flex items-center gap-1.5 px-3 py-1.5 rounded-xl bg-slate-200 dark:bg-slate-700 text-slate-700 dark:text-slate-300 text-sm font-medium hover:bg-slate-300 dark:hover:bg-slate-600 transition-colors","aria-label":"R\xe9agir",children:[(0,s.jsx)(n,{className:"h-4 w-4"}),"R\xe9agir"]}),c&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{className:"fixed inset-0 z-40",onClick:()=>i(!1),"aria-hidden":!0}),(0,s.jsx)("div",{className:"absolute bottom-full left-0 mb-2 p-2 bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-2xl shadow-lg z-50 grid grid-cols-4 gap-1",children:d.map(e=>(0,s.jsx)("button",{type:"button",onClick:()=>h(e),className:"text-2xl p-2 rounded-xl hover:bg-slate-100 dark:hover:bg-slate-700 transition-colors",children:e},e))})]})]})]})}},6027:function(e,t,a){"use strict";a.d(t,{Z:function(){return m}});var s=a(7437),r=a(2265),l=a(1543),n=a(9313),d=a(8957),o=a(7972),c=a(2898);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let i=(0,c.Z)("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]),u=(0,c.Z)("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);var x=a(4033);function m(e){let{players:t,roomCode:a,onReplay:c}=e,m=(0,x.useRouter)(),[b,h]=(0,r.useState)([]);(0,r.useEffect)(()=>{h([...t].sort((e,t)=>t.score-e.score))},[t]);let p=e=>{switch(e){case 1:return(0,s.jsx)(d.Z,{className:"h-6 w-6 text-yellow-500"});case 2:return(0,s.jsx)(d.Z,{className:"h-5 w-5 text-gray-400"});case 3:return(0,s.jsx)(d.Z,{className:"h-5 w-5 text-orange-600"});default:return(0,s.jsx)("span",{className:"text-lg font-bold text-slate-500",children:e})}},f=e=>{switch(e){case 1:return"bg-amber-100 dark:bg-amber-900/40 border-amber-300 dark:border-amber-700 text-slate-800 dark:text-slate-100";case 2:return"bg-slate-100 dark:bg-slate-800 border-slate-300 dark:border-slate-600 text-slate-800 dark:text-slate-100";case 3:return"bg-orange-100 dark:bg-orange-900/40 border-orange-300 dark:border-orange-700 text-slate-800 dark:text-slate-100";default:return"bg-white dark:bg-slate-800 border-slate-200 dark:border-slate-700 text-slate-800 dark:text-slate-100"}};return(0,s.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-purple-50 dark:from-slate-900 dark:to-purple-950 p-4 sm:p-6 game-layout text-slate-800 dark:text-slate-100",children:(0,s.jsxs)("div",{className:"max-w-2xl mx-auto",children:[(0,s.jsxs)("div",{className:"text-center mb-6 sm:mb-8",children:[(0,s.jsx)("h1",{className:"text-2xl sm:text-4xl font-bold text-blue-600 dark:text-blue-400 mb-2",children:"Partie termin\xe9e !"}),(0,s.jsxs)("p",{className:"text-slate-600 dark:text-slate-400",children:["Room : ",a]})]}),(0,s.jsxs)(l.Z,{className:"p-4 sm:p-6 mb-6",children:[(0,s.jsx)("h2",{className:"text-xl sm:text-2xl font-semibold mb-4 text-center text-slate-800 dark:text-slate-100",children:"Classement final"}),(0,s.jsx)("div",{className:"space-y-3",children:b.map((e,t)=>{let a=t+1;return(0,s.jsxs)("div",{className:"flex items-center justify-between p-3 sm:p-4 rounded-xl border-2 ".concat(f(a)," transition-all duration-200 hover:scale-[1.02]"),children:[(0,s.jsxs)("div",{className:"flex items-center gap-3 sm:gap-4",children:[(0,s.jsx)("div",{className:"flex items-center justify-center w-8 h-8 shrink-0",children:p(a)}),(0,s.jsxs)("div",{className:"flex items-center gap-2 min-w-0",children:[(0,s.jsx)(o.Z,{className:"h-5 w-5 text-slate-500 dark:text-slate-400 shrink-0"}),(0,s.jsx)("span",{className:"font-semibold text-slate-800 dark:text-slate-100 truncate",children:e.name})]})]}),(0,s.jsxs)("div",{className:"text-right shrink-0",children:[(0,s.jsx)("span",{className:"text-xl sm:text-2xl font-bold text-blue-600 dark:text-blue-400",children:e.score}),(0,s.jsx)("span",{className:"text-sm text-slate-500 dark:text-slate-400 ml-1",children:"pts"})]})]},e.name)})})]}),(0,s.jsxs)("div",{className:"flex gap-4",children:[(0,s.jsxs)(n.z,{onClick:()=>{sessionStorage.removeItem("playerName"),sessionStorage.removeItem("isHost"),m.push("/")},variant:"outline",className:"flex-1 rounded-xl py-3",children:[(0,s.jsx)(i,{className:"h-5 w-5 mr-2"}),"Quitter"]}),(0,s.jsxs)(n.z,{onClick:()=>{c()},className:"flex-1 rounded-xl py-3 bg-green-600 hover:bg-green-700 text-white",children:[(0,s.jsx)(u,{className:"h-5 w-5 mr-2"}),"Rejouer"]})]})]})})}},8619:function(e,t,a){"use strict";a.d(t,{Z:function(){return r}});var s=a(7437);function r(e){let{timeLeft:t,totalSeconds:a,label:r="Temps restant",className:l=""}=e,n=a>0?Math.max(0,t/a*100):0,d=t<=10;return(0,s.jsxs)("div",{className:"w-full ".concat(l),children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-1.5",children:[(0,s.jsx)("span",{className:"text-sm font-medium text-slate-600 dark:text-slate-400",children:r}),(0,s.jsxs)("span",{className:"text-sm font-bold tabular-nums ".concat(d?"text-red-600 dark:text-red-400":"text-slate-800 dark:text-slate-100"),children:[t,"s"]})]}),(0,s.jsx)("div",{className:"h-2 w-full bg-slate-200 dark:bg-slate-700 rounded-full overflow-hidden",children:(0,s.jsx)("div",{className:"h-full rounded-full transition-all duration-1000 ".concat(d?"bg-red-500 dark:bg-red-600":"bg-blue-500 dark:bg-blue-600"),style:{width:"".concat(n,"%")}})})]})}},4518:function(e,t,a){"use strict";a.d(t,{r:function(){return l}});var s=a(2265);let r=(0,a(3226).eI)("https://vyatvqwsoqalbnbcmhqm.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InZ5YXR2cXdzb3FhbGJuYmNtaHFtIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NzE3ODkzMDcsImV4cCI6MjA4NzM2NTMwN30.KoTP3iOZmvbzB8RjHlmWIyvdMVpfqoia3-MQxbdL1sY");function l(e,t){let[a,l]=(0,s.useState)([]),[n,d]=(0,s.useState)([]);return(0,s.useEffect)(()=>{let a=r.channel("room:".concat(e));return a.on("presence",{event:"sync"},()=>{l(Object.values(a.presenceState()).flat())}).on("presence",{event:"join"},e=>{let{key:t,newPresences:a}=e;console.log("Nouveau joueur:",a)}).on("presence",{event:"leave"},e=>{let{key:t,leftPresences:a}=e;console.log("Joueur parti:",a)}).on("broadcast",{event:t},e=>{let{payload:t}=e;d(e=>[...e,t])}).subscribe(async e=>{"SUBSCRIBED"===e&&await a.track({playerName:sessionStorage.getItem("playerName")||"Anonyme",gameType:t,joinedAt:new Date().toISOString()})}),()=>{a.unsubscribe()}},[e,t]),{broadcast:a=>{r.channel("room:".concat(e)).send({type:"broadcast",event:t,payload:a})},presence:a,messages:n}}},1657:function(e,t,a){"use strict";a.d(t,{cn:function(){return l}});var s=a(7042),r=a(4769);function l(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];return(0,r.m6)((0,s.W)(t))}},4033:function(e,t,a){e.exports=a(5313)}}]);