(()=>{var e={};e.id=485,e.ids=[485],e.modules={7849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},5403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},4749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},5528:e=>{"use strict";e.exports=require("next/dist\\client\\components\\action-async-storage.external.js")},1877:e=>{"use strict";e.exports=require("next/dist\\client\\components\\request-async-storage.external.js")},5319:e=>{"use strict";e.exports=require("next/dist\\client\\components\\static-generation-async-storage.external.js")},1358:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>n.a,__next_app__:()=>x,originalPathname:()=>u,pages:()=>c,routeModule:()=>m,tree:()=>o});var a=s(482),r=s(9108),l=s(2563),n=s.n(l),d=s(8300),i={};for(let e in d)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(i[e]=()=>d[e]);s.d(t,i);let o=["",{children:["games",{children:["lyricsguessr",{children:["[code]",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,8847)),"C:\\Users\\masso\\Desktop\\IttolecHub\\app\\games\\lyricsguessr\\[code]\\page.tsx"]}]},{}]},{}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,5560)),"C:\\Users\\masso\\Desktop\\IttolecHub\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,9361,23)),"next/dist/client/components/not-found-error"]}],c=["C:\\Users\\masso\\Desktop\\IttolecHub\\app\\games\\lyricsguessr\\[code]\\page.tsx"],u="/games/lyricsguessr/[code]/page",x={require:s,loadChunk:()=>Promise.resolve()},m=new a.AppPageRouteModule({definition:{kind:r.x.APP_PAGE,page:"/games/lyricsguessr/[code]/page",pathname:"/games/lyricsguessr/[code]",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:o}})},864:(e,t,s)=>{Promise.resolve().then(s.bind(s,3743))},3743:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>y});var a=s(5344),r=s(3729),l=s(2254),n=s(240),d=s(3511),i=s(5282),o=s(1688),c=s(6058),u=s(782),x=s(765),m=s(435),p=s(3319),g=s(3575);function y(){let e=(0,l.useParams)(),t=(0,l.useSearchParams)(),s=e.code,y=t.get("artist")||"",h=Math.max(1,parseInt(t.get("rounds")||"5",10)),b=Math.max(5,parseInt(t.get("time")||"45",10)),[f,j]=(0,r.useState)(null),[k,D]=(0,r.useState)(""),[v,N]=(0,r.useState)([]),[w,_]=(0,r.useState)(!1),[C,E]=(0,r.useState)(!1),[P,S]=(0,r.useState)(0),[Z,q]=(0,r.useState)(null),[I,M]=(0,r.useState)(b),[$,A]=(0,r.useState)([]),[F,G]=(0,r.useState)(!1),[R,T]=(0,r.useState)(null),{broadcast:H,messages:L}=(0,o.r)(s,"lyricsguessr"),U="Anonyme";return(0,r.useCallback)(async()=>{},[!1,y,P,h,H,$,b]),((0,r.useEffect)(()=>{let e=L[L.length-1];e&&("round_start"===e.type?(j(e.data),S(e.data.roundNumber??0),E(!1),q(null),N([]),D(""),M(b),_(!0),T(null)):"player_guess"===e.type?N(t=>t.includes(e.data.player)?t:[...t,e.data.player]):"round_end"===e.type?(q(e.data.winner),e.data.players&&A(e.data.players),E(!0)):"game_end"===e.type&&(e.data.players&&A(e.data.players),G(!0)))},[L]),(0,r.useEffect)(()=>{let e;return w&&!C&&I>0&&(e=setInterval(()=>M(e=>e<=1?0:e-1),1e3)),w&&!C&&I<=0&&E(!0),()=>clearInterval(e)},[w,C,I]),(0,r.useEffect)(()=>{U&&0===$.length&&A([{name:U,score:0}])},[U]),F)?a.jsx("div",{className:"min-h-screen bg-slate-50 dark:bg-slate-900 p-4 sm:p-6 game-layout text-slate-800 dark:text-slate-100",children:a.jsx(p.Z,{players:$,roomCode:s,onReplay:()=>{G(!1),A([]),S(0),_(!1)}})}):a.jsx("div",{className:"min-h-screen bg-slate-50 dark:bg-slate-900 p-4 sm:p-6 game-layout text-slate-800 dark:text-slate-100",children:(0,a.jsxs)("div",{className:"max-w-2xl mx-auto space-y-4",children:[a.jsx("h1",{className:"text-2xl font-bold text-center text-blue-600 dark:text-blue-400",children:"LyricsGuessr"}),(0,a.jsxs)("p",{className:"text-sm text-slate-600 dark:text-slate-400 text-center",children:["Manche ",P,"/",h," • Score : ",$.find(e=>e.name===U)?.score??0]}),a.jsx("div",{className:"flex justify-center",children:a.jsx(g.Z,{roomCode:s,gameType:"lyricsguessr"})}),!w&&!1,!w&&a.jsx(n.Z,{className:"p-6 text-center",children:a.jsx("p",{className:"text-slate-600 dark:text-slate-400",children:"En attente de l'h\xf4te..."})}),w&&f&&(0,a.jsxs)(a.Fragment,{children:[a.jsx(x.Z,{timeLeft:I,totalSeconds:b}),(0,a.jsxs)(n.Z,{className:"p-6 text-center",children:[a.jsx(c.Z,{className:"h-8 w-8 text-slate-500 dark:text-slate-400 mx-auto mb-2"}),(0,a.jsxs)("p",{className:"text-xl italic text-slate-800 dark:text-slate-100",children:['"',f.line,'"']})]}),!C&&(0,a.jsxs)("form",{onSubmit:e=>{if(e.preventDefault(),!k.trim()||!f||C)return;let t=f.title.toLowerCase().trim()===k.toLowerCase().trim();if(H({type:"player_guess",data:{player:U,guess:k.trim()}}),N(e=>e.includes(U)?e:[...e,U]),t&&!Z){q(U);let e=[...$],t=e.findIndex(e=>e.name===U);t>=0?e[t].score+=10:e.push({name:U,score:10}),A(e),H({type:"round_end",data:{winner:U,players:e}})}D("")},className:"flex gap-2",children:[a.jsx(i.I,{type:"text",placeholder:"Titre de la chanson...",value:k,onChange:e=>D(e.target.value),className:"rounded-xl flex-1"}),a.jsx(d.z,{type:"submit",className:"rounded-xl",disabled:v.includes(U),children:"Valider"})]}),a.jsx(m.Z,{answeredPlayers:v}),C&&(0,a.jsxs)(n.Z,{className:"p-6 text-center bg-green-100 dark:bg-green-900/40",children:[a.jsx(u.Z,{className:"h-10 w-10 text-amber-500 mx-auto mb-2"}),a.jsx("p",{className:"font-semibold text-slate-800 dark:text-slate-100",children:Z?`${Z} a trouv\xe9 !`:"Temps \xe9coul\xe9"}),(0,a.jsxs)("p",{className:"text-slate-700 dark:text-slate-300 mt-1",children:[f.artist," – ",f.title]}),!1]})]})]})})}},5282:(e,t,s)=>{"use strict";s.d(t,{I:()=>l});var a=s(5344),r=s(1626);let l=(0,s(3729).forwardRef)(({className:e,...t},s)=>a.jsx("input",{ref:s,className:(0,r.cn)("flex h-10 w-full rounded-lg border border-slate-300 bg-white px-3 py-2 text-sm","placeholder:text-slate-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent","disabled:cursor-not-allowed disabled:opacity-50","dark:border-slate-600 dark:bg-slate-800 dark:text-slate-100 dark:placeholder:text-slate-400",e),...t}));l.displayName="Input"},3575:(e,t,s)=>{"use strict";s.d(t,{Z:()=>i});var a=s(5344),r=s(3729),l=s(1688);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let n=(0,s(9224).Z)("Smile",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 14s1.5 2 4 2 4-2 4-2",key:"1y1vjs"}],["line",{x1:"9",x2:"9.01",y1:"9",y2:"9",key:"yxxnd0"}],["line",{x1:"15",x2:"15.01",y1:"9",y2:"9",key:"1p4y9e"}]]),d=["\uD83D\uDC4D","❤️","\uD83D\uDE02","\uD83D\uDE2E","\uD83D\uDE22","\uD83D\uDD25","\uD83D\uDC4F","\uD83C\uDF89","\uD83E\uDD14","\uD83D\uDE0E","\uD83D\uDE4C","\uD83D\uDCAF","⭐","\uD83D\uDE80","\uD83D\uDE31","\uD83E\uDD23"];function i({roomCode:e,gameType:t,className:s=""}){let[i,o]=(0,r.useState)(!1),{broadcast:c,messages:u}=(0,l.r)(e,t),x=(0,r.useMemo)(()=>u.filter(e=>"reaction"===e.type).slice(-8).map(e=>({player:e.data?.player,emoji:e.data?.emoji})),[u]),m=e=>{c({type:"reaction",data:{player:"Anonyme",emoji:e}}),o(!1)};return(0,a.jsxs)("div",{className:`relative ${s}`,children:[x.length>0&&a.jsx("div",{className:"flex flex-wrap gap-1 mb-2 justify-center",children:x.map((e,t)=>(0,a.jsxs)("span",{className:"text-xs bg-slate-200 dark:bg-slate-700 px-2 py-0.5 rounded-full text-slate-800 dark:text-slate-100",children:[e.emoji," ",e.player]},t))}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsxs)("button",{type:"button",onClick:()=>o(e=>!e),className:"flex items-center gap-1.5 px-3 py-1.5 rounded-xl bg-slate-200 dark:bg-slate-700 text-slate-700 dark:text-slate-300 text-sm font-medium hover:bg-slate-300 dark:hover:bg-slate-600 transition-colors","aria-label":"R\xe9agir",children:[a.jsx(n,{className:"h-4 w-4"}),"R\xe9agir"]}),i&&(0,a.jsxs)(a.Fragment,{children:[a.jsx("div",{className:"fixed inset-0 z-40",onClick:()=>o(!1),"aria-hidden":!0}),a.jsx("div",{className:"absolute bottom-full left-0 mb-2 p-2 bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-2xl shadow-lg z-50 grid grid-cols-4 gap-1",children:d.map(e=>a.jsx("button",{type:"button",onClick:()=>m(e),className:"text-2xl p-2 rounded-xl hover:bg-slate-100 dark:hover:bg-slate-700 transition-colors",children:e},e))})]})]})]})}},765:(e,t,s)=>{"use strict";s.d(t,{Z:()=>r});var a=s(5344);function r({timeLeft:e,totalSeconds:t,label:s="Temps restant",className:r=""}){let l=t>0?Math.max(0,e/t*100):0,n=e<=10;return(0,a.jsxs)("div",{className:`w-full ${r}`,children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-1.5",children:[a.jsx("span",{className:"text-sm font-medium text-slate-600 dark:text-slate-400",children:s}),(0,a.jsxs)("span",{className:`text-sm font-bold tabular-nums ${n?"text-red-600 dark:text-red-400":"text-slate-800 dark:text-slate-100"}`,children:[e,"s"]})]}),a.jsx("div",{className:"h-2 w-full bg-slate-200 dark:bg-slate-700 rounded-full overflow-hidden",children:a.jsx("div",{className:`h-full rounded-full transition-all duration-1000 ${n?"bg-red-500 dark:bg-red-600":"bg-blue-500 dark:bg-blue-600"}`,style:{width:`${l}%`}})})]})}},6058:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,s(9224).Z)("Music",[["path",{d:"M9 18V5l12-2v13",key:"1jmyc2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["circle",{cx:"18",cy:"16",r:"3",key:"1hluhg"}]])},8847:(e,t,s)=>{"use strict";s.r(t),s.d(t,{$$typeof:()=>l,__esModule:()=>r,default:()=>n});let a=(0,s(6843).createProxy)(String.raw`C:\Users\masso\Desktop\IttolecHub\app\games\lyricsguessr\[code]\page.tsx`),{__esModule:r,$$typeof:l}=a,n=a.default}};var t=require("../../../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),a=t.X(0,[638,77,824,710,860],()=>s(1358));module.exports=a})();