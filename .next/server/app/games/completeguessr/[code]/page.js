(()=>{var e={};e.id=935,e.ids=[935],e.modules={7849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},5403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},4749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},5528:e=>{"use strict";e.exports=require("next/dist\\client\\components\\action-async-storage.external.js")},1877:e=>{"use strict";e.exports=require("next/dist\\client\\components\\request-async-storage.external.js")},5319:e=>{"use strict";e.exports=require("next/dist\\client\\components\\static-generation-async-storage.external.js")},107:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>n.a,__next_app__:()=>x,originalPathname:()=>u,pages:()=>i,routeModule:()=>p,tree:()=>c});var a=s(482),r=s(9108),l=s(2563),n=s.n(l),d=s(8300),o={};for(let e in d)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>d[e]);s.d(t,o);let c=["",{children:["games",{children:["completeguessr",{children:["[code]",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,2117)),"C:\\Users\\masso\\Desktop\\IttolecHub\\app\\games\\completeguessr\\[code]\\page.tsx"]}]},{}]},{}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,5560)),"C:\\Users\\masso\\Desktop\\IttolecHub\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,9361,23)),"next/dist/client/components/not-found-error"]}],i=["C:\\Users\\masso\\Desktop\\IttolecHub\\app\\games\\completeguessr\\[code]\\page.tsx"],u="/games/completeguessr/[code]/page",x={require:s,loadChunk:()=>Promise.resolve()},p=new a.AppPageRouteModule({definition:{kind:r.x.APP_PAGE,page:"/games/completeguessr/[code]/page",pathname:"/games/completeguessr/[code]",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},9388:(e,t,s)=>{Promise.resolve().then(s.bind(s,6229))},6229:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>g});var a=s(5344),r=s(3729),l=s(240),n=s(3511),d=s(1688),o=s(7060),c=s(3229),i=s(6135),u=s(435),x=s(3319);function p(e){return e.toLowerCase().trim().normalize("NFD").replace(/[\u0300-\u036f]/g,"").replace(/\s+/g," ")}function m({roomCode:e,settings:t}){if(!e)return a.jsx("div",{className:"min-h-screen flex items-center justify-center text-slate-800 dark:text-slate-200",children:"Code de room non sp\xe9cifi\xe9."});let[s,m]=(0,r.useState)(""),[g,h]=(0,r.useState)([]),[b,f]=(0,r.useState)(!1),[k,y]=(0,r.useState)([]),[j,N]=(0,r.useState)(!1),[v,_]=(0,r.useState)(0),[C,w]=(0,r.useState)(5),[P,Z]=(0,r.useState)(null),[q,S]=(0,r.useState)(""),[E,M]=(0,r.useState)([]),{broadcast:$,messages:z}=(0,d.r)(e,"completeguessr"),D="Anonyme";(0,r.useEffect)(()=>{t?.rounds&&w(parseInt(t.rounds,10))},[t]),(0,r.useCallback)(async()=>{},[!1,v,C,$,k,t?.lang]);let G=(0,r.useCallback)(e=>{if(e)switch(e.type){case"round_start":S(e.data.prompt||""),M((e.data.suggestions||[]).map(e=>({...e,found:!1}))),f(!0),h([]),m(""),_(e=>e+1),Z(null);break;case"player_guess":h(t=>{let s=e.data?.player;return s&&!t.includes(s)?[...t,s]:t});break;case"suggestion_found":e.data?.suggestions&&M(e.data.suggestions),e.data?.player&&y(t=>{let s=[...t],a=s.find(t=>t.name===e.data.player);return a?a.score+=10:s.push({name:e.data.player,score:10}),s});break;case"game_end":N(!0),e.data?.players&&y(e.data.players)}},[]);return((0,r.useEffect)(()=>{let e=z[z.length-1];e&&G(e)},[z,G]),(0,r.useEffect)(()=>{D&&0===k.length&&y([{name:D,score:0}])},[D,k.length]),j)?a.jsx(x.Z,{players:k,roomCode:e,onReplay:()=>{N(!1),y([]),_(0),f(!1),S(""),M([]),h([]),m("")}}):a.jsx("div",{className:"min-h-screen bg-slate-50 dark:bg-slate-900 text-slate-800 dark:text-slate-100 p-4 sm:p-6 game-layout",children:(0,a.jsxs)("div",{className:"max-w-3xl mx-auto flex flex-col gap-4 sm:gap-6",children:[(0,a.jsxs)("div",{className:"text-center",children:[a.jsx("h1",{className:"text-2xl font-bold text-slate-800 dark:text-slate-100",children:"Compl\xe8teGuessr"}),(0,a.jsxs)("p",{className:"text-sm text-slate-600 dark:text-slate-400 mt-1",children:["Manche ",v,"/",C," • Ton score :"," ",k.find(e=>e.name===D)?.score??0]})]}),!b&&!1,!b&&(0,a.jsxs)(l.Z,{className:"p-8 text-center rounded-2xl bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700",children:[a.jsx("h2",{className:"text-xl font-semibold mb-4 text-slate-800 dark:text-slate-100",children:"En attente de l'h\xf4te"}),a.jsx("p",{className:"text-slate-600 dark:text-slate-400",children:"L'h\xf4te va lancer la partie."})]}),b&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(l.Z,{className:"p-6 rounded-2xl bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700",children:[a.jsx("p",{className:"text-2xl md:text-3xl font-semibold text-slate-800 dark:text-slate-100 text-center leading-relaxed",children:q}),a.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400 mt-2 text-center",children:"Trouve une des suggestions Google (phrase exacte ou fin de phrase)."})]}),(0,a.jsxs)(l.Z,{className:"p-6 rounded-2xl bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700",children:[a.jsx("h3",{className:"text-sm font-medium text-slate-600 dark:text-slate-400 mb-3",children:"Suggestions trouv\xe9es"}),a.jsx("ul",{className:"space-y-2",children:E.map((e,t)=>a.jsx("li",{className:"flex items-center gap-2 py-2 border-b border-slate-100 dark:border-slate-700 last:border-0",children:e.found?(0,a.jsxs)(a.Fragment,{children:[a.jsx(o.Z,{className:"h-5 w-5 text-green-600 dark:text-green-400 shrink-0"}),(0,a.jsxs)("span",{className:"text-slate-800 dark:text-slate-100",children:[q.replace(/\.\.\.$/,"")," ",e.text]}),e.foundBy&&(0,a.jsxs)("span",{className:"text-xs text-slate-500 dark:text-slate-400 ml-auto",children:["→ ",e.foundBy]})]}):(0,a.jsxs)(a.Fragment,{children:[a.jsx(c.Z,{className:"h-5 w-5 text-slate-300 dark:text-slate-600 shrink-0"}),a.jsx("span",{className:"text-slate-400 dark:text-slate-500 italic",children:"???"})]})},t))})]}),null!==P&&(0,a.jsxs)("div",{className:`rounded-2xl p-4 flex items-center gap-2 ${P?"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-200":"bg-red-100 text-red-800 dark:bg-red-900/30 dark:text-red-200"}`,children:[P?a.jsx(o.Z,{className:"h-5 w-5"}):a.jsx(c.Z,{className:"h-5 w-5"}),a.jsx("span",{className:"font-medium",children:P?"Correct !":"Pas dans la liste."})]}),(0,a.jsxs)("form",{onSubmit:e=>{if(e.preventDefault(),!s.trim()||!E.length)return;let t=p(s),a=q.replace(/\.\.\.$/,"").trim(),r=-1;for(let e=0;e<E.length;e++){if(E[e].found)continue;let s=`${a} ${E[e].text}`;if(t===p(E[e].text)||t===p(s)){r=e;break}}if($({type:"player_guess",data:{player:D,guess:s.trim()}}),h(e=>e.includes(D)?e:[...e,D]),r>=0){Z(!0),setTimeout(()=>Z(null),2e3);let e=E.map((e,t)=>t===r?{...e,found:!0,foundBy:D}:e);M(e),y(e=>{let t=[...e],s=t.find(e=>e.name===D);return s?s.score+=10:t.push({name:D,score:10}),t}),$({type:"suggestion_found",data:{index:r,player:D,suggestions:e}})}else Z(!1),setTimeout(()=>Z(null),2e3);m("")},className:"flex gap-2",children:[a.jsx("input",{type:"text",placeholder:"Ta r\xe9ponse...",value:s,onChange:e=>m(e.target.value),className:"flex-1 rounded-2xl border border-slate-300 dark:border-slate-600 bg-white dark:bg-slate-800 px-4 py-3 text-slate-900 dark:text-slate-100 placeholder:text-slate-400 dark:placeholder:text-slate-500 focus:outline-none focus:ring-2 focus:ring-blue-500"}),a.jsx(n.z,{type:"submit",className:"rounded-2xl bg-blue-600 hover:bg-blue-700 text-white px-6",disabled:!s.trim(),children:a.jsx(i.Z,{className:"h-5 w-5"})})]}),a.jsx(u.Z,{answeredPlayers:g}),!1]})]})})}function g({params:e,searchParams:t}){return a.jsx(m,{roomCode:e.code,settings:t})}},7060:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,s(9224).Z)("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]])},6135:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,s(9224).Z)("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]])},3229:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,s(9224).Z)("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]])},2117:(e,t,s)=>{"use strict";s.r(t),s.d(t,{$$typeof:()=>l,__esModule:()=>r,default:()=>n});let a=(0,s(6843).createProxy)(String.raw`C:\Users\masso\Desktop\IttolecHub\app\games\completeguessr\[code]\page.tsx`),{__esModule:r,$$typeof:l}=a,n=a.default}};var t=require("../../../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),a=t.X(0,[638,77,824,710,860],()=>s(107));module.exports=a})();