(()=>{var e={};e.id=371,e.ids=[371],e.modules={7849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},5403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},4749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},5528:e=>{"use strict";e.exports=require("next/dist\\client\\components\\action-async-storage.external.js")},1877:e=>{"use strict";e.exports=require("next/dist\\client\\components\\request-async-storage.external.js")},5319:e=>{"use strict";e.exports=require("next/dist\\client\\components\\static-generation-async-storage.external.js")},6089:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>n.a,__next_app__:()=>x,originalPathname:()=>u,pages:()=>c,routeModule:()=>p,tree:()=>i});var a=s(482),r=s(9108),l=s(2563),n=s.n(l),o=s(8300),d={};for(let e in o)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(d[e]=()=>o[e]);s.d(t,d);let i=["",{children:["games",{children:["populationguessr",{children:["[code]",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,632)),"C:\\Users\\masso\\Desktop\\IttolecHub\\app\\games\\populationguessr\\[code]\\page.tsx"]}]},{}]},{}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,5560)),"C:\\Users\\masso\\Desktop\\IttolecHub\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,9361,23)),"next/dist/client/components/not-found-error"]}],c=["C:\\Users\\masso\\Desktop\\IttolecHub\\app\\games\\populationguessr\\[code]\\page.tsx"],u="/games/populationguessr/[code]/page",x={require:s,loadChunk:()=>Promise.resolve()},p=new a.AppPageRouteModule({definition:{kind:r.x.APP_PAGE,page:"/games/populationguessr/[code]/page",pathname:"/games/populationguessr/[code]",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:i}})},882:(e,t,s)=>{Promise.resolve().then(s.bind(s,1367))},1367:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>g});var a=s(5344),r=s(3729),l=s(2254),n=s(240),o=s(3511),d=s(5282),i=s(1688),c=s(782),u=s(765),x=s(435),p=s(3319),m=s(3575);function g(){let e=(0,l.useParams)(),t=(0,l.useSearchParams)(),s=e.code,g=Math.max(1,parseInt(t.get("rounds")||"5",10)),h=Math.max(5,parseInt(t.get("time")||"20",10)),[b,f]=(0,r.useState)(null),[y,j]=(0,r.useState)(5e7),[D,k]=(0,r.useState)([]),[v,N]=(0,r.useState)([]),[w,_]=(0,r.useState)(!1),[S,P]=(0,r.useState)(!1),[E,C]=(0,r.useState)(0),[q,I]=(0,r.useState)(h),[Z,M]=(0,r.useState)([]),[R,F]=(0,r.useState)(!1),{broadcast:A,messages:$}=(0,i.r)(s,"populationguessr"),G="Anonyme";return(0,r.useCallback)(async()=>{},[!1,E,g,A,Z,h]),((0,r.useEffect)(()=>{let e=$[$.length-1];e&&("round_start"===e.type?(f(e.data.country),C(e.data.roundNumber??E+1),P(!1),k([]),N([]),j(5e7),I(h),_(!0)):"player_answer"===e.type?(N(t=>[...t,{player:e.data.player,answer:e.data.answer,difference:0}]),k(t=>t.includes(e.data.player)?t:[...t,e.data.player])):"round_end"===e.type?(N(e.data.results||[]),e.data.players&&M(e.data.players),P(!0)):"game_end"===e.type&&(e.data.players&&M(e.data.players),F(!0)))},[$]),(0,r.useEffect)(()=>{let e;return w&&!S&&q>0&&(e=setInterval(()=>I(e=>e<=1?0:e-1),1e3)),()=>clearInterval(e)},[w,S,q,!1]),(0,r.useEffect)(()=>{G&&0===Z.length&&M([{name:G,score:0}])},[G]),R)?a.jsx("div",{className:"min-h-screen bg-slate-50 dark:bg-slate-900 p-4 sm:p-6 game-layout text-slate-800 dark:text-slate-100",children:a.jsx(p.Z,{players:Z,roomCode:s,onReplay:()=>{F(!1),M([]),C(0),_(!1)}})}):a.jsx("div",{className:"min-h-screen bg-slate-50 dark:bg-slate-900 p-4 sm:p-6 game-layout text-slate-800 dark:text-slate-100",children:(0,a.jsxs)("div",{className:"max-w-2xl mx-auto space-y-4",children:[a.jsx("h1",{className:"text-2xl font-bold text-center",children:"PopulationGuessr"}),(0,a.jsxs)("p",{className:"text-sm text-slate-600 dark:text-slate-400 text-center",children:["Manche ",E,"/",g," • Score : ",Z.find(e=>e.name===G)?.score??0]}),a.jsx("div",{className:"flex justify-center",children:a.jsx(m.Z,{roomCode:s,gameType:"populationguessr"})}),!w&&!1,!w&&a.jsx(n.Z,{className:"p-6 text-center",children:a.jsx("p",{className:"text-slate-600 dark:text-slate-400",children:"En attente de l'h\xf4te..."})}),w&&b&&(0,a.jsxs)(a.Fragment,{children:[a.jsx(u.Z,{timeLeft:q,totalSeconds:h}),(0,a.jsxs)(n.Z,{className:"p-6 text-center",children:[a.jsx("h2",{className:"text-xl font-semibold mb-2 text-slate-800 dark:text-slate-100",children:"Quelle est la population de ce pays ?"}),a.jsx("p",{className:"text-2xl font-bold text-slate-800 dark:text-slate-100 mb-4",children:b.name.fr}),a.jsx("img",{src:b.flagUrl,alt:"Drapeau",className:"w-48 h-32 object-contain mx-auto rounded-lg"})]}),!S&&(0,a.jsxs)("form",{onSubmit:e=>{e.preventDefault(),!b||S||D.includes(G)||(A({type:"player_answer",data:{player:G,answer:y}}),k(e=>e.includes(G)?e:[...e,G]))},className:"space-y-4",children:[a.jsx("div",{className:"text-center",children:a.jsx("span",{className:"text-2xl font-bold text-slate-800 dark:text-slate-100",children:Number(y).toLocaleString("fr-FR")})}),a.jsx(d.I,{type:"range",min:1e5,max:15e8,step:1e6,value:y,onChange:e=>j(Number(e.target.value)),className:"w-full"}),a.jsx(o.z,{type:"submit",className:"w-full rounded-xl",disabled:D.includes(G),children:D.includes(G)?"R\xe9ponse envoy\xe9e":"Valider"})]}),a.jsx(x.Z,{answeredPlayers:D}),S&&(0,a.jsxs)(n.Z,{className:"p-6 text-center bg-green-100 dark:bg-green-900/40",children:[a.jsx(c.Z,{className:"h-10 w-10 text-amber-500 mx-auto mb-2"}),(0,a.jsxs)("p",{className:"font-semibold text-slate-800 dark:text-slate-100",children:["Population : ",a.jsx("strong",{children:b.population.toLocaleString("fr-FR")})]}),a.jsx("div",{className:"mt-4 space-y-2 text-left",children:v.slice(0,5).map((e,t)=>(0,a.jsxs)("div",{className:"flex justify-between text-sm text-slate-700 dark:text-slate-300",children:[a.jsx("span",{children:e.player}),(0,a.jsxs)("span",{children:[e.answer.toLocaleString("fr-FR")," (\xe9cart: ",e.difference.toLocaleString("fr-FR"),")"]})]},t))}),!1]})]})]})})}},5282:(e,t,s)=>{"use strict";s.d(t,{I:()=>l});var a=s(5344),r=s(1626);let l=(0,s(3729).forwardRef)(({className:e,...t},s)=>a.jsx("input",{ref:s,className:(0,r.cn)("flex h-10 w-full rounded-lg border border-slate-300 bg-white px-3 py-2 text-sm","placeholder:text-slate-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent","disabled:cursor-not-allowed disabled:opacity-50","dark:border-slate-600 dark:bg-slate-800 dark:text-slate-100 dark:placeholder:text-slate-400",e),...t}));l.displayName="Input"},3575:(e,t,s)=>{"use strict";s.d(t,{Z:()=>d});var a=s(5344),r=s(3729),l=s(1688);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let n=(0,s(9224).Z)("Smile",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 14s1.5 2 4 2 4-2 4-2",key:"1y1vjs"}],["line",{x1:"9",x2:"9.01",y1:"9",y2:"9",key:"yxxnd0"}],["line",{x1:"15",x2:"15.01",y1:"9",y2:"9",key:"1p4y9e"}]]),o=["\uD83D\uDC4D","❤️","\uD83D\uDE02","\uD83D\uDE2E","\uD83D\uDE22","\uD83D\uDD25","\uD83D\uDC4F","\uD83C\uDF89","\uD83E\uDD14","\uD83D\uDE0E","\uD83D\uDE4C","\uD83D\uDCAF","⭐","\uD83D\uDE80","\uD83D\uDE31","\uD83E\uDD23"];function d({roomCode:e,gameType:t,className:s=""}){let[d,i]=(0,r.useState)(!1),{broadcast:c,messages:u}=(0,l.r)(e,t),x=(0,r.useMemo)(()=>u.filter(e=>"reaction"===e.type).slice(-8).map(e=>({player:e.data?.player,emoji:e.data?.emoji})),[u]),p=e=>{c({type:"reaction",data:{player:"Anonyme",emoji:e}}),i(!1)};return(0,a.jsxs)("div",{className:`relative ${s}`,children:[x.length>0&&a.jsx("div",{className:"flex flex-wrap gap-1 mb-2 justify-center",children:x.map((e,t)=>(0,a.jsxs)("span",{className:"text-xs bg-slate-200 dark:bg-slate-700 px-2 py-0.5 rounded-full text-slate-800 dark:text-slate-100",children:[e.emoji," ",e.player]},t))}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsxs)("button",{type:"button",onClick:()=>i(e=>!e),className:"flex items-center gap-1.5 px-3 py-1.5 rounded-xl bg-slate-200 dark:bg-slate-700 text-slate-700 dark:text-slate-300 text-sm font-medium hover:bg-slate-300 dark:hover:bg-slate-600 transition-colors","aria-label":"R\xe9agir",children:[a.jsx(n,{className:"h-4 w-4"}),"R\xe9agir"]}),d&&(0,a.jsxs)(a.Fragment,{children:[a.jsx("div",{className:"fixed inset-0 z-40",onClick:()=>i(!1),"aria-hidden":!0}),a.jsx("div",{className:"absolute bottom-full left-0 mb-2 p-2 bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-2xl shadow-lg z-50 grid grid-cols-4 gap-1",children:o.map(e=>a.jsx("button",{type:"button",onClick:()=>p(e),className:"text-2xl p-2 rounded-xl hover:bg-slate-100 dark:hover:bg-slate-700 transition-colors",children:e},e))})]})]})]})}},765:(e,t,s)=>{"use strict";s.d(t,{Z:()=>r});var a=s(5344);function r({timeLeft:e,totalSeconds:t,label:s="Temps restant",className:r=""}){let l=t>0?Math.max(0,e/t*100):0,n=e<=10;return(0,a.jsxs)("div",{className:`w-full ${r}`,children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-1.5",children:[a.jsx("span",{className:"text-sm font-medium text-slate-600 dark:text-slate-400",children:s}),(0,a.jsxs)("span",{className:`text-sm font-bold tabular-nums ${n?"text-red-600 dark:text-red-400":"text-slate-800 dark:text-slate-100"}`,children:[e,"s"]})]}),a.jsx("div",{className:"h-2 w-full bg-slate-200 dark:bg-slate-700 rounded-full overflow-hidden",children:a.jsx("div",{className:`h-full rounded-full transition-all duration-1000 ${n?"bg-red-500 dark:bg-red-600":"bg-blue-500 dark:bg-blue-600"}`,style:{width:`${l}%`}})})]})}},632:(e,t,s)=>{"use strict";s.r(t),s.d(t,{$$typeof:()=>l,__esModule:()=>r,default:()=>n});let a=(0,s(6843).createProxy)(String.raw`C:\Users\masso\Desktop\IttolecHub\app\games\populationguessr\[code]\page.tsx`),{__esModule:r,$$typeof:l}=a,n=a.default}};var t=require("../../../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),a=t.X(0,[638,77,824,710,860],()=>s(6089));module.exports=a})();