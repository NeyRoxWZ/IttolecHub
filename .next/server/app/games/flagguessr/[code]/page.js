(()=>{var e={};e.id=458,e.ids=[458],e.modules={7849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},5403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},4749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},5528:e=>{"use strict";e.exports=require("next/dist\\client\\components\\action-async-storage.external.js")},1877:e=>{"use strict";e.exports=require("next/dist\\client\\components\\request-async-storage.external.js")},5319:e=>{"use strict";e.exports=require("next/dist\\client\\components\\static-generation-async-storage.external.js")},7356:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>n.a,__next_app__:()=>x,originalPathname:()=>c,pages:()=>u,routeModule:()=>m,tree:()=>i});var a=s(482),r=s(9108),l=s(2563),n=s.n(l),d=s(8300),o={};for(let e in d)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>d[e]);s.d(t,o);let i=["",{children:["games",{children:["flagguessr",{children:["[code]",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,2275)),"C:\\Users\\masso\\Desktop\\IttolecHub\\app\\games\\flagguessr\\[code]\\page.tsx"]}]},{}]},{}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,5560)),"C:\\Users\\masso\\Desktop\\IttolecHub\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,9361,23)),"next/dist/client/components/not-found-error"]}],u=["C:\\Users\\masso\\Desktop\\IttolecHub\\app\\games\\flagguessr\\[code]\\page.tsx"],c="/games/flagguessr/[code]/page",x={require:s,loadChunk:()=>Promise.resolve()},m=new a.AppPageRouteModule({definition:{kind:r.x.APP_PAGE,page:"/games/flagguessr/[code]/page",pathname:"/games/flagguessr/[code]",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:i}})},6542:(e,t,s)=>{Promise.resolve().then(s.bind(s,2230))},2230:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>g});var a=s(5344),r=s(3729),l=s(2254),n=s(240),d=s(3511),o=s(5282),i=s(1688),u=s(782),c=s(765),x=s(435),m=s(3319),p=s(3575);function g(){let e=(0,l.useParams)(),t=(0,l.useSearchParams)(),s=e.code,g=Math.max(1,parseInt(t.get("rounds")||"5",10)),h=Math.max(5,parseInt(t.get("time")||"15",10)),[b,f]=(0,r.useState)(null),[y,j]=(0,r.useState)(""),[D,k]=(0,r.useState)([]),[v,N]=(0,r.useState)(!1),[w,_]=(0,r.useState)(!1),[C,E]=(0,r.useState)(0),[P,S]=(0,r.useState)(null),[I,q]=(0,r.useState)(h),[Z,M]=(0,r.useState)([]),[$,A]=(0,r.useState)(!1),{broadcast:F,messages:R}=(0,i.r)(s,"flagguessr"),G="Anonyme";return(0,r.useCallback)(async()=>{},[!1,C,g,F,Z,h]),((0,r.useEffect)(()=>{let e=R[R.length-1];e&&("round_start"===e.type?(f(e.data.country),E(e.data.roundNumber??C+1),_(!1),S(null),k([]),j(""),q(h),N(!0)):"player_guess"===e.type?k(t=>t.includes(e.data.player)?t:[...t,e.data.player]):"round_end"===e.type?(S(e.data.winner),e.data.players&&M(e.data.players),_(!0)):"game_end"===e.type&&(e.data.players&&M(e.data.players),A(!0)))},[R]),(0,r.useEffect)(()=>{let e;return v&&!w&&I>0&&(e=setInterval(()=>q(e=>e<=1?0:e-1),1e3)),v&&!w&&I<=0&&_(!0),()=>clearInterval(e)},[v,w,I,!1,P,Z,F]),(0,r.useEffect)(()=>{G&&0===Z.length&&M([{name:G,score:0}])},[G]),$)?a.jsx("div",{className:"min-h-screen bg-slate-50 dark:bg-slate-900 p-4 sm:p-6 game-layout text-slate-800 dark:text-slate-100",children:a.jsx(m.Z,{players:Z,roomCode:s,onReplay:()=>{A(!1),M([]),E(0),N(!1)}})}):a.jsx("div",{className:"min-h-screen bg-slate-50 dark:bg-slate-900 p-4 sm:p-6 game-layout text-slate-800 dark:text-slate-100",children:(0,a.jsxs)("div",{className:"max-w-2xl mx-auto space-y-4",children:[a.jsx("h1",{className:"text-2xl font-bold text-center",children:"FlagGuessr"}),(0,a.jsxs)("p",{className:"text-sm text-slate-600 dark:text-slate-400 text-center",children:["Manche ",C,"/",g," • Score : ",Z.find(e=>e.name===G)?.score??0]}),a.jsx("div",{className:"flex justify-center",children:a.jsx(p.Z,{roomCode:s,gameType:"flagguessr"})}),!v&&!1,!v&&a.jsx(n.Z,{className:"p-6 text-center",children:a.jsx("p",{className:"text-slate-600 dark:text-slate-400",children:"En attente de l'h\xf4te..."})}),v&&b&&(0,a.jsxs)(a.Fragment,{children:[a.jsx(c.Z,{timeLeft:I,totalSeconds:h}),(0,a.jsxs)(n.Z,{className:"p-6 text-center",children:[a.jsx("h2",{className:"text-xl font-semibold mb-4 text-slate-800 dark:text-slate-100",children:"Quel est ce pays ?"}),a.jsx("img",{src:b.flagUrl,alt:"Drapeau",className:"w-64 h-40 object-contain mx-auto rounded-lg shadow"})]}),!w&&(0,a.jsxs)("form",{onSubmit:e=>{if(e.preventDefault(),!y.trim()||!b||w)return;let t=Object.values(b.name).some(e=>e.toLowerCase()===y.toLowerCase().trim());if(F({type:"player_guess",data:{player:G,guess:y.trim()}}),k(e=>e.includes(G)?e:[...e,G]),t&&!P){S(G);let e=[...Z],t=e.findIndex(e=>e.name===G);t>=0?e[t].score+=10:e.push({name:G,score:10}),M(e),F({type:"round_end",data:{winner:G,players:e}})}j("")},className:"flex gap-2",children:[a.jsx(o.I,{type:"text",placeholder:"Nom du pays...",value:y,onChange:e=>j(e.target.value),className:"rounded-xl flex-1"}),a.jsx(d.z,{type:"submit",className:"rounded-xl",disabled:D.includes(G),children:"Valider"})]}),a.jsx(x.Z,{answeredPlayers:D}),w&&(0,a.jsxs)(n.Z,{className:"p-6 text-center bg-green-100 dark:bg-green-900/40",children:[a.jsx(u.Z,{className:"h-10 w-10 text-amber-500 mx-auto mb-2"}),a.jsx("p",{className:"font-semibold text-slate-800 dark:text-slate-100",children:P?`${P} a trouv\xe9 !`:"Temps \xe9coul\xe9"}),(0,a.jsxs)("p",{className:"text-slate-700 dark:text-slate-300 mt-1",children:["R\xe9ponse : ",a.jsx("strong",{children:b.name.fr})]}),!1]})]})]})})}},5282:(e,t,s)=>{"use strict";s.d(t,{I:()=>l});var a=s(5344),r=s(1626);let l=(0,s(3729).forwardRef)(({className:e,...t},s)=>a.jsx("input",{ref:s,className:(0,r.cn)("flex h-10 w-full rounded-lg border border-slate-300 bg-white px-3 py-2 text-sm","placeholder:text-slate-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent","disabled:cursor-not-allowed disabled:opacity-50","dark:border-slate-600 dark:bg-slate-800 dark:text-slate-100 dark:placeholder:text-slate-400",e),...t}));l.displayName="Input"},3575:(e,t,s)=>{"use strict";s.d(t,{Z:()=>o});var a=s(5344),r=s(3729),l=s(1688);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let n=(0,s(9224).Z)("Smile",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 14s1.5 2 4 2 4-2 4-2",key:"1y1vjs"}],["line",{x1:"9",x2:"9.01",y1:"9",y2:"9",key:"yxxnd0"}],["line",{x1:"15",x2:"15.01",y1:"9",y2:"9",key:"1p4y9e"}]]),d=["\uD83D\uDC4D","❤️","\uD83D\uDE02","\uD83D\uDE2E","\uD83D\uDE22","\uD83D\uDD25","\uD83D\uDC4F","\uD83C\uDF89","\uD83E\uDD14","\uD83D\uDE0E","\uD83D\uDE4C","\uD83D\uDCAF","⭐","\uD83D\uDE80","\uD83D\uDE31","\uD83E\uDD23"];function o({roomCode:e,gameType:t,className:s=""}){let[o,i]=(0,r.useState)(!1),{broadcast:u,messages:c}=(0,l.r)(e,t),x=(0,r.useMemo)(()=>c.filter(e=>"reaction"===e.type).slice(-8).map(e=>({player:e.data?.player,emoji:e.data?.emoji})),[c]),m=e=>{u({type:"reaction",data:{player:"Anonyme",emoji:e}}),i(!1)};return(0,a.jsxs)("div",{className:`relative ${s}`,children:[x.length>0&&a.jsx("div",{className:"flex flex-wrap gap-1 mb-2 justify-center",children:x.map((e,t)=>(0,a.jsxs)("span",{className:"text-xs bg-slate-200 dark:bg-slate-700 px-2 py-0.5 rounded-full text-slate-800 dark:text-slate-100",children:[e.emoji," ",e.player]},t))}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsxs)("button",{type:"button",onClick:()=>i(e=>!e),className:"flex items-center gap-1.5 px-3 py-1.5 rounded-xl bg-slate-200 dark:bg-slate-700 text-slate-700 dark:text-slate-300 text-sm font-medium hover:bg-slate-300 dark:hover:bg-slate-600 transition-colors","aria-label":"R\xe9agir",children:[a.jsx(n,{className:"h-4 w-4"}),"R\xe9agir"]}),o&&(0,a.jsxs)(a.Fragment,{children:[a.jsx("div",{className:"fixed inset-0 z-40",onClick:()=>i(!1),"aria-hidden":!0}),a.jsx("div",{className:"absolute bottom-full left-0 mb-2 p-2 bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-2xl shadow-lg z-50 grid grid-cols-4 gap-1",children:d.map(e=>a.jsx("button",{type:"button",onClick:()=>m(e),className:"text-2xl p-2 rounded-xl hover:bg-slate-100 dark:hover:bg-slate-700 transition-colors",children:e},e))})]})]})]})}},765:(e,t,s)=>{"use strict";s.d(t,{Z:()=>r});var a=s(5344);function r({timeLeft:e,totalSeconds:t,label:s="Temps restant",className:r=""}){let l=t>0?Math.max(0,e/t*100):0,n=e<=10;return(0,a.jsxs)("div",{className:`w-full ${r}`,children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-1.5",children:[a.jsx("span",{className:"text-sm font-medium text-slate-600 dark:text-slate-400",children:s}),(0,a.jsxs)("span",{className:`text-sm font-bold tabular-nums ${n?"text-red-600 dark:text-red-400":"text-slate-800 dark:text-slate-100"}`,children:[e,"s"]})]}),a.jsx("div",{className:"h-2 w-full bg-slate-200 dark:bg-slate-700 rounded-full overflow-hidden",children:a.jsx("div",{className:`h-full rounded-full transition-all duration-1000 ${n?"bg-red-500 dark:bg-red-600":"bg-blue-500 dark:bg-blue-600"}`,style:{width:`${l}%`}})})]})}},2275:(e,t,s)=>{"use strict";s.r(t),s.d(t,{$$typeof:()=>l,__esModule:()=>r,default:()=>n});let a=(0,s(6843).createProxy)(String.raw`C:\Users\masso\Desktop\IttolecHub\app\games\flagguessr\[code]\page.tsx`),{__esModule:r,$$typeof:l}=a,n=a.default}};var t=require("../../../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),a=t.X(0,[638,77,824,710,860],()=>s(7356));module.exports=a})();