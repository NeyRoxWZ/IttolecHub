"use strict";(()=>{var e={};e.id=503,e.ids=[503],e.modules={517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},6954:(e,r,t)=>{t.r(r),t.d(r,{headerHooks:()=>h,originalPathname:()=>_,patchFetch:()=>v,requestAsyncStorage:()=>d,routeModule:()=>p,serverHooks:()=>m,staticGenerationAsyncStorage:()=>g,staticGenerationBailout:()=>f});var a={};t.r(a),t.d(a,{GET:()=>l});var o=t(5419),s=t(9108),n=t(9678),u=t(8070);let i=["snacks","beverages","cheeses","desserts","pizzas","sandwiches","breakfasts"];async function c(e,r="world"){try{let t=`https://${r}.openfoodfacts.org/api/v2/search?categories_tags_en=${e}&fields=product_name,image_url,nutriments&page_size=50`,a=await fetch(t),o=(await a.json()).products.filter(e=>e.product_name&&e.image_url&&e.nutriments["energy-kcal_100g"]);if(0===o.length)return null;return o[Math.floor(Math.random()*o.length)]}catch(e){return console.error("Erreur API Open Food Facts:",e),null}}async function l(e){try{let{searchParams:r}=new URL(e.url),t=r.get("category")||i[Math.floor(Math.random()*i.length)],a=r.get("country")||"world",o=await c(t,a);if(!o)return u.Z.json({error:"Aucun produit trouv\xe9 pour cette cat\xe9gorie"},{status:500});return u.Z.json({name:o.product_name,imageUrl:o.image_url,calories:Math.round(o.nutriments["energy-kcal_100g"])})}catch(e){return console.error("Erreur API CaloriesGuessr:",e),u.Z.json({error:"Erreur lors de la g\xe9n\xe9ration du jeu"},{status:500})}}let p=new o.AppRouteRouteModule({definition:{kind:s.x.APP_ROUTE,page:"/api/games/calories/route",pathname:"/api/games/calories",filename:"route",bundlePath:"app/api/games/calories/route"},resolvedPagePath:"C:\\Users\\masso\\Desktop\\IttolecHub\\app\\api\\games\\calories\\route.ts",nextConfigOutput:"",userland:a}),{requestAsyncStorage:d,staticGenerationAsyncStorage:g,serverHooks:m,headerHooks:h,staticGenerationBailout:f}=p,_="/api/games/calories/route";function v(){return(0,n.patchFetch)({serverHooks:m,staticGenerationAsyncStorage:g})}}};var r=require("../../../../webpack-runtime.js");r.C(e);var t=e=>r(r.s=e),a=r.X(0,[638,206],()=>t(6954));module.exports=a})();